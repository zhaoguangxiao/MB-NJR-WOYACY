<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta name="keywords" content="味捷餐饮旗下品牌。牛家人大碗牛肉面，新鲜不过夜！">
    <meta name="description" content="味捷餐饮旗下品牌。牛家人大碗牛肉面，新鲜不过夜！">
    <meta name="format-detection" content="telephone=yes"/>
    <title>面店加盟__牛家人大碗牛肉面加盟官网</title>
    <link rel=icon type=image/x-icon href=./public/favicon.ico>
    <!-- 重置页面 -->
    <link rel="stylesheet" href="./css/base.css">
    <!-- 当页面的css -->
    <link rel="stylesheet" href="./css/newsInfo.css">
    <link rel="stylesheet" href="./css/common.css">
    <!-- wow -->
    <script src="./lib/animation/wow.min.js"></script>
    <script src="./lib/rem/rem.js"></script>
    <script src="https://pv.sohu.com/cityjson?ie=utf-8"></script>
</head>
<body>

<div class="layout clearfix" id="news">

    <nav class="clearfix">
        <i class="f_left iconfont" @click="window.history.back(-1); ">&#xe600;</i>
        <p @click="location.href='./news.html'">资讯详情</p>
    </nav>

    <!-- 文章 -->
    <article class="container">
        <p>{{ news.title }}</p>
        <div class="">
            <p>时间：{{ news.createtime | getTime }}</p>
            <p>编辑：{{ news.source }}</p>
        </div>

        <main class="w" v-html="news.content">

        </main>

    </article>

    <!-- 相关文章 -->
    <div class="about w">
        <h2>相关文章</h2>

        <a :href="'./newsInfo.html?id='+item.uidpk" v-for="item in randomNewsList.slice(0,3)" :key="item.uidpk">
            {{ item.title }}
        </a>

    </div>

    <footer>
        <div class="footer-left">
            <a href="javascript:void(0);" class="call">
                <img src="./public/call.png" alt="">
                <div>
                    <p>客服热线：</p>
                    <p>400-897-0200</p>
                </div>
            </a>
            <a href="javascript:void(0);" class="address">
                <img src="./public/address.png" alt="">
                <div>
                    <p>公司地址：</p>
                    <p>浙江省杭州市滨江区龙威大厦20楼</p>
                </div>
            </a>
           <a rel="nofollow" href="http://beian.miit.gov.cn/" class="keep">
                    <img src="./public/bn.png" alt="">
                    <div>
                        <p>备案号：</p>
                        <p>浙ICP备17052793号</p>
                    </div>
                </a>
        </div>
        <img src="./public/footer_qrcode.png" alt="" class="footer-logo">
    </footer>
    <p class="warn_tip w">
            <span>
                版权所有 杭州味捷餐饮有限公司
            </span>
        <span>
                加盟有风险，投资需谨慎！
            </span>
    </p>
</div>

<!-- axios -->
<script src="https://cdn.bootcss.com/axios/0.19.0/axios.min.js"></script>
<!-- monent -->
<script src="./lib/moment/moment.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/vue"></script>

<script>
    var app = new Vue({
        el: "#news",
        data() {
            return {
                id: parseInt(window.location.href.split("=")[1]),
                news: {},
                randomNewsList: []
            }
        },
        methods: {
            async getNews() {
                // const res = await axios.get(`https://manage.zhou-yuanwai.com/journalism/findOne.do?uidpk=${this.id}`)
                const res = await axios.get(`https://manage.zhou-yuanwai.com/comprehens/findOne.do?uidpk=${this.id}`)
                // console.log(this.id)
                console.log(res.data)
                this.news = res.data
            },
            async getRandomNews() {
                // const res = await axios.get(`https://manage.zhou-yuanwai.com/journalism/findOne.do?uidpk=${this.id}`)
                const res = await axios.get(`https://manage.zhou-yuanwai.com/comprehens/random.do`)
                // console.log(this.id)
                // console.log(res.data)
                // this.news = res.data
                this.randomNewsList = res.data
            },
            // 换一批
            nextList(type) {
                switch (type) {
                    case 1:
                        if (this.news01.pageEnd < this.news01List.length) {
                            this.news01.pageStart = this.news01.pageEnd
                            this.news01.pageEnd = this.news01.pageEnd + 3
                        } else {
                            layer.msg("没有更多了")
                        }
                        break;
                    case 2:
                        if (this.news02.pageEnd < this.news02List.length) {
                            this.news02.pageStart = this.news02.pageEnd
                            this.news02.pageEnd = this.news02.pageEnd + 3
                        } else {
                            layer.msg("没有更多了")
                        }
                        break;
                }
                // if (this.news01.pageEnd < this.news01List.length) {
                //     this.news01.pageStart = this.news01.pageEnd
                //     this.news01.pageEnd = this.news01.pageEnd + 3
                // } else {
                //     layer.msg("没有更多了")
                // }
                // console.log(this.news01Page.pageEnd, this.news01List.length)
            },
        },
        created() {
            this.getNews()
            this.getRandomNews()
        },
        filters: {
            // 超过字数变成省略号
            slh: function (value, wordLimit) {
                // var str = $(textName).html()
                // console.log(str)
                // var subStr = str.substring(0, wordLimit)
                // // console.log(subStr)
                // $(textName).html(subStr + (str.length > wordLimit ? "..." : ""))
                let subStr = value.substring(0, wordLimit)
                let newSubStr = subStr + (value.length > wordLimit ? "..." : "")
                return newSubStr
            },
            // 格式化时间
            getTime: function (dataStr, pattern = "YYYY-MM-DD") {
                return moment(dataStr).format(pattern);
            },
            // 获取日期
            getDay(val) {
                return val.split("-")[2]
            },
            // 获取日期
            getDate(val) {
                return val.split("-")[0] + "-" + val.split("-")[1]
            }
        },
    })
</script>

<!--<script>-->
<!--window.onload = function () {-->
<!--// 请求文章地址-->
<!--const getNewsApi = "https://manage.zhou-yuanwai.com";-->
<!--}-->
<!---->
<!--</script>-->

</body>
</html>

<script language=javascript>
    var LiveReceptionCode_chatexplain_online='';
    LiveReceptionCode_chatexplain_online=escape(LiveReceptionCode_chatexplain_online);
</script>
<script language="javascript" src="http://pyt.zoosnet.net/JS/LsJS.aspx?siteid=PYT62454332&float=1&lng=cn"></script>



